<!doctype html>
<html lang='en'>

<head>
    <meta charset='utf-8' />
    <meta name='description' content='SculptGL is a small sculpting application powered by JavaScript and webGL.'>
    <meta name='author' content='stéphane GINIER'>
    <meta name='mobile-web-app-capable' content='yes'>
    <meta name='apple-mobile-web-app-capable' content='yes'>

    <title> SculptGL - A WebGL sculpting app </title>

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'>
    <!-- <link rel='stylesheet' href='css/yagui.css' type='text/css' /> -->
    <link rel='stylesheet' href='css/sam.css' type='text/css' />

</head>

<body oncontextmenu='return false;'>
    <input type='file' id='fileopen' multiple style='display: none' />
    <input type='file' id='backgroundopen' style='display: none' />
    <input type='file' id='alphaopen' style='display: none' />
    <input type='file' id='textureopen' style='display: none' />
    <input type='file' id='matcapopen' style='display: none' />

    <div id='viewport'>
        <canvas id='canvas'></canvas>
    </div>
    <div class="lefttop" style="position:fixed;left:0px;top:0px;">
        <span class="dropdown">
            <h2>Werkzeuge</h2>
            <button class="selectable" onclick='Paint()'>
                <image class="icon" src="resources/ui/pull.png"></image>
            </button>
            <button class="selectable" onclick='Crease()'>
                <image class="icon" src="resources/ui/push.png"></image>
            </button>
            <button class="selectable" onclick='Drag()'>
                <image class="icon" src="resources/ui/pull.png"></image>
            </button>
        </span>
        <span class="dropdown">
            <h2>Textur</h2>
            <button class="selectable" onclick="LoadTexture('resources/bg.png')">
                <image class="icon" src="resources/ui/1.png"></image>
            </button>
            <button class="selectable" onclick="LoadTexture('resources/dropper.png')">
                <image class="icon" src="resources/ui/2.png"></image>
            </button>
            <button class="selectable" onclick="LoadTexture('resources/uv.png')">
                <image class="icon" src="resources/ui/3.png"></image>
            </button>
        </span>
    </div>
    <div class="leftbottom" style="position:fixed; bottom:0px;">
        <span class="dropdown">
            
            <button style="border-radius: 100%;" onclick='Undo()'>
                <image class="icon" src="resources/ui/back.png"></image>
            </button>
        </span>
    </div>
    <div class="righttop" style="position:fixed; right:0px;top:0px;">
        <span class="dropdown">
            <h2>Drag & Drop</h2>
            <button class="selectable" onclick='Eye(1)'>
                <image class="icon" src="resources/eyes/1.png"></image>
            </button>
            <button class="selectable" onclick='Eye(2)'>
                <image class="icon" src="resources/eyes/2.png"></image>
            </button>
            <button class="selectable" onclick='Eye(3)'>
                <image class="icon" src="resources/eyes/3.png"></image>
            </button>
            <button class="selectable" onclick='Eye(4)'>
                <image class="icon" src="resources/eyes/4.png"></image>
            </button>
            <button class="selectable" onclick='Eye(5)'>
                <image class="icon" src="resources/eyes/5.png"></image>
            </button>
            <button class="selectable" onclick='Eye(6)'>
                <image class="icon" src="resources/eyes/6.png"></image>
            </button>
        </span>
    </div>
    <div class="rightbottom" style="position:fixed; right:0px;bottom:0px;">
        <span class="dropdown">
            <button style="width:140px;" onclick='takeScreenshot()'>Fertig?</button>
        </span>
    </div>


    <script src='sculptgl.js'></script>
    <script>
        'use strict';

        var app;

        window.addEventListener('load', function() {
            app = new window.SculptGL();
            app.start();

            app._background.loadBackgroundURL("resources/bg.png");

        });




        function Paint() {
            // console.log("pinch");
            app._sculptManager.setToolIndex(1);
            app._sculptManager.setTempToolIndex(1);
            app._sculptManager.selectionChanged(app._mainObj);

        }

        function Crease() {
            // console.log("crease");

            app._sculptManager.setToolIndex(6);
            app._sculptManager.setTempToolIndex(6);
            app._sculptManager.selectionChanged(app._mainObj);

        }

        function Drag() {
            // console.log("crease");

            app._sculptManager.setToolIndex(7);
            app._sculptManager.setTempToolIndex(7);
            app._sculptManager.selectionChanged(app._mainObj);
        }

        function Eye(id) {
            app.addPlane(id);
            app._sculptManager.setToolIndex(12);


        }


        function LoadTexture(url) {
            app.loadTextureManual(url);
        }

        function Undo() {
            console.log(app);

            app._stateManager.undo();
        }


        function takeScreenshot() {

            app.screenshot();
        }
    </script>
</body>

</html>